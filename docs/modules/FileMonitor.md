FileMonitor
文件监视
分类：File
描述：监视一个目录下的文件变化。

需求
- Unsafe：否
- Malicious：否
- 需要管理员权限：否
- 需要系统权限：否
- 需要 TrustedInstaller 权限：否
- 驱动依赖：否
- 是否 WIP：否
- 是否需要联网：否
- 版本属性：普通可用

介绍
FileMonitor 会在单独线程里监听目录变更事件（创建、删除、修改、重命名），并按你的输出策略写入控制台、客户端日志、独立日志或通知。
模块启用后会持续监控当前目录；如果你在运行中改了 `Folder` 路径，模块会提示“目录已变更，需要重启模块”。扩展名黑名单会定期刷新，便于在线调整过滤规则。

配置项
- Folder（文件夹）
类型：文本；默认："D:\\"；作用：指定被监听目录。建议：使用存在的目录路径，路径变更后手动重启模块。

- Console Output（控制台输出）
类型：布尔；默认：true；作用：把事件输出到控制台并按事件类型着色。建议：交互排查时开启。

- Log (Client)（客户端日志）
类型：布尔；默认：false；作用：把事件写入客户端统一日志。建议：与控制台二选一或并用。

- Log (Seperate)（独立日志）
类型：布尔；默认：false；作用：把事件写入 `output/FileMon/` 独立日志文件。建议：长期留痕场景建议开启。

- Notify（通知）
类型：布尔；默认：false；作用：事件发生时弹通知。建议：高频目录一般关闭，避免刷屏。

- Monitor Create（监视创建）
类型：布尔；默认：true；作用：是否记录创建事件。建议：常开。

- Monitor Delete（监视删除）
类型：布尔；默认：true；作用：是否记录删除事件。建议：常开。

- Monitor Modify（监视修改）
类型：布尔；默认：true；作用：是否记录修改事件。建议：噪声较大目录可按需关闭。

- Monitor Rename（监视重命名）
类型：布尔；默认：true；作用：是否记录重命名事件（旧名->新名）。建议：常开。

- Exclude Client Files（排除客户端文件）
类型：布尔；默认：true；作用：过滤客户端自身目录内事件。建议：保持开启，减少自扰。

- Exclude Recent（排除最近使用文件夹）
类型：布尔；默认：true；作用：过滤 Recent 目录事件。建议：保持开启。

- Exclude Prefetch（排除Prefetch）
类型：布尔；默认：true；作用：过滤 Prefetch 目录事件。建议：保持开启，减少系统噪声。

- Ext Blacklist（扩展名黑名单）
类型：文本；默认：".log;.pf;.tmp;.db;.qqxlog;.db-wal;.lck"；作用：按扩展名过滤不记录的文件事件。建议：先保留默认，再按业务补充。

- Cooldown（冷却）
类型：整数；默认：100；作用：监听循环每轮休眠时长，影响事件处理频率与资源占用。建议：高频目录可调到 150~300 降低压力。

备注
模块启动时会校验目录是否存在，失败会自动关闭。
扩展名黑名单会周期刷新，所以你可以在不重启客户端的情况下微调过滤策略。

相关命令
无

相关模块
- [FileDelete (文件删除)](./FileDelete.md)
- [FileCreate (文件创建)](./FileCreate.md)
- [FileManager (文件管理器)](./FileManager.md)
- [Everything (Everything)](./Everything.md)

相关资料
无
