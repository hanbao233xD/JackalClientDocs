ListModules
枚举模块
分类：Process
描述：列出指定进程已加载模块。

需求
- 安全级别：常规模块
- 恶意标记：否
- 权限需求：无（目标进程权限更高时可能失败）
- 驱动依赖：否
- 联网需求：否
- 开发状态：稳定
- 版本属性：普通可用

介绍
ListModules 用于输出目标进程的模块清单（模块名、大小、路径），适合排查注入链、模块异常加载和来源路径问题。
当目标是 64 位进程时，会改用 loader 路径执行枚举；32 位进程则直接通过快照接口遍历模块。

配置项
- Async（异步）
  类型：布尔；默认：true；说明：开启后后台输出模块列表，避免前台等待；关闭后在当前流程同步输出。
- Auto Console（自动启用控制台）
  类型：布尔；默认：true；说明：开启后自动打开或聚焦控制台，保证列表可见。
- PID (0 for self)（进程ID (0 for self)）
  类型：整数；默认：0；说明：`0` 表示枚举客户端自身进程；填入其他 PID 时枚举对应目标进程。
- Verify（验证）
  类型：布尔；默认：true；说明：开启后对模块文件做签名验证，并在输出中区分可疑项；建议安全排查场景保持开启。

历史更新
- 18. `/listmodules` 命令支持接收参数。
- 3. 枚举 64 位进程模块时改为调用 loader。

备注
该模块带并发保护：上一次枚举未结束时会拒绝再次启动。若提示正在运行，请等待当前任务完成。

相关命令
- `/listmodules [hproc/name/pid]`：枚举目标进程模块。

相关模块
- [ProcessManager (进程管理器)](./ProcessManager.md)
- [ListServices (枚举服务)](./ListServices.md)
- [ListTasks (枚举计划任务)](./ListTasks.md)
- [ProcessKill (进程击杀)](./ProcessKill.md)

相关资料
无
